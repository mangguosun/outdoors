<if condition="$list['type'] eq 2">
  <if condition="count($list['res']) gt 0">
    <switch name="list.style">
      <case value="2">
        <script src="__PUBLIC__/Core/js/ext/kinmaxshow/js/kinmaxshow.min.js"></script>
        
        <div  style="width:{$list.ad.width}px;height:{$list.ad.height}px">
          <div id="slide_{$list.ad.pos}" >
            <volist name="list.res" id="vo">
              <div> <a href="{$vo.link}" target="_blank" title="{$vo.title}"><img src="{$vo.advspic|getThumbImageById=$list['ad']['width'],$list['ad']['height']}" alt="{$vo.title}"></a> </div>
            </volist>
          </div>
        </div>
        <script type="text/javascript">
                    $(function(){
                        var h_s={$list.ad.height};
                    $("#slide_{$list.ad.pos}").kinMaxShow({height:h_s});
                    });
                </script>
      </case>
      <default />
      <script src="__PUBLIC__/Core/js/ext/slider/js/jquery.slides.min.js"></script>
      <link href="__PUBLIC__/Core/js/ext/slider/css/slider.css" rel="stylesheet" type="text/css"/>
      <div style="height: {$list.ad.height};width:{$list.ad.width}px;">
        <div id="slide_{$list.ad.pos}" style="">
          <volist name="list.res" id="vo"> <a href="{$vo.link}" title="{$vo.title}" target="_blank"><img src="{$vo.advspic|getThumbImageById=$list['ad']['width'],$list['ad']['height']}" alt="{$vo.title}"></a> </volist>
          <a href="#" class="slidesjs-previous slidesjs-navigation"><i class="glyphicon glyphicon-chevron-left"></i></a> <a href="#" class="slidesjs-next slidesjs-navigation"><i class="glyphicon glyphicon-chevron-right"></i></a> </div>
      </div>
      <script>
                    $(function () {
                        $("#slide_{$list.ad.pos}").slidesjs({
                            navigation: false
                        });
                    })
                </script>
      </switch>
      </if>
      <elseif condition="$list['type'] eq 3"/>
      <div style="width:{$list['width']};height:{$list['height']};background: #cecece;">
        <div style="margin:0px auto;width:150px;line-height: 30px;">{$list.advstext}</div>
      </div>
      <elseif condition="$list['type'] eq 1"/>
      <if condition="$list['advspic'] neq 0">
        <php>if($list['link']){</php>
        <a href="{$list.link}" title="{$list.title}" target="_blank"><img src="{$list.advspic|get_cover='path'}" alt="{$list.title}"/></a>
        <php>}else{</php>
        <img src="{$list.advspic|get_cover='path'}" alt="{$list.title}" title="{$list.title}"/>
        <php>}</php>
      </if>
      <elseif condition="$list['type'] eq 4"/>
      {$list.advshtml}
      <elseif condition="$list['type'] eq 5"/>
      <if condition="count($list['res']) egt 1">
        <style>
		.runners-kv{ width:100%; height:400px; text-align:center}
		#runners-kv-show {position: relative;height: 400px;width: 1140px;margin: 0 auto;}
		#runners-kv-show a {float: left;display: inline;}
		#runners-kv-show .img {position: absolute;width: 1140px;height: 400px;overflow: hidden}
		#runners-kv-show .img SPAN {position: absolute;width: 19999px;display: block}
		#runners-kv-show .img img { width:1140px; height:400px;}
		#runners-kv-show .btns {z-index: 10;position: absolute;width: 1140px}
		#runners-kv-show .btns B {position: absolute;width: 100px;display: block;height: 14px;overflow: hidden;top: 350px;left: 50%}
		#runners-kv-show .btns B I {width: 10px;background:none;float: left;height: 10px;font-size: 0px;overflow: hidden;cursor: pointer;margin-right: 6px;border: #fff 2px solid;-webkit-border-radius: 7px;-moz-border-radius: 7px;border-radius: 7px}
		#runners-kv-show .btns B I:hover {background: #fff;}
		#runners-kv-show .btns B I.on {background: #fff;cursor: default}
		#runners-kv-show .btns B I.on:hover {background: #fff;cursor: default}
		#runners-kv-show .btns S {position: absolute;WIDTH: 60px;display: block;height: 80px;overflow: hidden;top: 155px;cursor: pointer}
		#runners-kv-show .btns S I {position: absolute;width: 60px;background: url(/Public/Core/images/btn_show.png);height: 160px;_filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=scale, src="../images/btn_show.png");_background: none;}
		#runners-kv-show .btns S.prev {left: 0px}
		#runners-kv-show .btns S.prev i {top: -80px; left:0}
		#runners-kv-show .btns S.next {right: 0px}
		#runners-kv-show .btns S.next i { left:0}
		.show-hover#runners-kv-show .btns S {display: block}
		.runners-kv-masks {opacity: 0.5;filter: alpha(opacity=50);-moz-opacity: 0.5;-khtml-opacity: 0.5;height: 400px;position: absolute;background: #000;overflow: hidden}	
        </style>
           <div class="runners-kv">
            <div id="runners-kv-show" rel="autoPlay">
              <div class="img">
                  <span>
                  	<volist name="list.res" id="images">
                      <a href="{$images['link']}" target="_blank"><img src="{$images.advspic|get_cover='path'}" _src="" /></a>
                    </volist>
                  </span>
                <div class="runners-kv-masks mk1"></div>
                <div class="runners-kv-masks mk2"></div>
              </div>
            </div>
          </div>


<script>
  /* 焦点图 */
$(function(){
	var $root = $('#runners-kv-show'),
		root_w = $root.width();
	var p = $root.find('> div.img > span'),
		n = p.children().length;
	  p.children().eq(0).clone().appendTo(p);
	function onoff(on, off) {
		(on !== -1) && btns.eq(on).addClass('on');
		(off !== -1) && btns.eq(off).removeClass('on');
	}
	function dgo(n, comp) {
		var idx = n > max ? 0 : n;
		onoff(idx, cur);
		cur = idx;
		p.stop().animate({left: -1 * root_w * n}, {duration: dur, complete: comp});
		if(idx == 0 ){p.children().eq(n-1).clone().appendTo('.mk1');}else{$('.mk1').empty()};
	}
	// slast -> 如果播放完最后1张，要如何处理
	//    true 平滑切换到第1张
	var cur = 0,
		max = n - 1,
		pt = 0,
		stay = 5 * 1000, /* ms */
		dur = .6 * 1000, /* ms */
		btns;
	function go(dir, slast) {
		pt = +new Date();
		if (dir === 0) {
			onoff(cur, -1);
			p.css({left: -1 * root_w * cur});
			return;
		}
		var t;
		if (dir > 0) {
			t = cur + 1;
			if (t > max && !slast) {
				t = 0;
			}
			if (t <= max) {
				return dgo(t);
			}
			return dgo(t, function(){
				p.css({left: 0});
			});
		} else {
			t = cur - 1;
			if (t < 0) {
				t = max;
				p.css({left: -1 * root_w * (max + 1)});
				return dgo(t);
			} else {
				return dgo(t);
			}
		}
	}
	btns = $((new Array(n + 1)).join('<i></i>'))
		.each(function(idx, el) {
			$(el).data({idx: idx});
		});
	var pn_btn = $('<s class="prev"><i></i></s><s class="next"><i></i></s>');
	$('<div class="btns"/ >')
		.append(
			$('<b/>')
				.append(btns)
				.delegate('i', 'click', function(ev) {
					dgo($(this).data('idx'));
				})
				.css({width: n * 20, marginLeft: -10 * n})
		)
		.delegate('s', 'click', function(ev) {
			go($(this).is('.prev') ? -1 : 1, true);
		})
		.append(pn_btn)
		.appendTo($root);
	if ($root.attr('rel') == 'autoPlay') {
	   var si = setInterval(function(){
			var now = +new Date();
			if (now - pt < stay) {
				return;
			}
			go(1, true);
		}, 5000);
	   p.mouseover(function(){ clearInterval(si);})
	   p.mouseout(function(){
			si = setInterval(function(){
			var now = +new Date();
			if (now - pt < stay) {
				return;
			}
			go(1, true);
		}, 5000);})
	}
	var wid = $(document.body).width();
	var swid = (wid-1140)/2;
	var bwid = root_w * n;
	$('#runners-kv-show').css('width',wid);$('#runners-kv-show .img').css('width',wid);
	$('#runners-kv-show .btns').css('left',swid)
	$('.runners-kv-masks').css('width',swid);$('.mk2').css('right',0);
	$('#runners-kv-show .img span').css(({paddingLeft: swid }))
});
</script>

  </if>
        <!-- 商城首页横条广告一-->
        
    <elseif condition="$list['type'] eq 7"/>
    	<if condition="$list['advspic'] neq 0">
        <php>if($list['link']){</php>
        <a href="{$list.link}" title="{$list.title}" target="_blank"><img src="{$list.advspic|get_cover='path'}" alt="{$list.title}"/></a>
        <php>}else{</php>
        <img src="{$list.advspic|get_cover='path'}" alt="{$list.title}" title="{$list.title}"/>
        <php>}</php>
        </if>
        <!-- 商城广告横条广告二 -->
    <elseif condition="$list['type'] eq 8"/>
    	<if condition="$list['advspic'] neq 0">
        <php>if($list['link']){</php>
        <a href="{$list.link}" title="{$list.title}" target="_blank"><img src="{$list.advspic|get_cover='path'}" alt="{$list.title}"/></a>
        <php>}else{</php>
        <img src="{$list.advspic|get_cover='path'}" alt="{$list.title}" title="{$list.title}"/>
        <php>}</php>
        </if> 
      <!-- 商城首页横条广告三-->   
    <elseif condition="$list['type'] eq 9"/>
    	<if condition="$list['advspic'] neq 0">
        <php>if($list['link']){</php>
        <a href="{$list.link}" title="{$list.title}" target="_blank"><img src="{$list.advspic|get_cover='path'}" alt="{$list.title}"/></a>
        <php>}else{</php>
        <img src="{$list.advspic|get_cover='path'}" alt="{$list.title}" title="{$list.title}"/>
        <php>}</php>
        </if> 
    <elseif condition="$list['type'] eq 6"/>
      <if condition="count($list['res']) egt 1">
        <style>
		.runners-kv{ width:100%; height:400px; text-align:center}
		#runners-kv-show {position: relative;height: 400px;width: 1140px;margin: 0 auto;}
		#runners-kv-show a {float: left;display: inline;}
		#runners-kv-show .img {position: absolute;width: 1140px;height: 400px;overflow: hidden}
		#runners-kv-show .img SPAN {position: absolute;width: 19999px;display: block}
		#runners-kv-show .img img { width:1140px; height:400px;}
		#runners-kv-show .btns {z-index: 10;position: absolute;width: 1140px}
		#runners-kv-show .btns B {position: absolute;width: 100px;display: block;height: 14px;overflow: hidden;top: 350px;left: 50%}
		#runners-kv-show .btns B I {width: 10px;background: #414140;float: left;height: 10px;font-size: 0px;overflow: hidden;cursor: pointer;margin-right: 6px;border: #414140 2px solid;-webkit-border-radius: 7px;-moz-border-radius: 7px;border-radius: 7px}
		#runners-kv-show .btns B I:hover {background: #a7a7a6}
		#runners-kv-show .btns B I.on {background: #3cd2f1;cursor: default}
		#runners-kv-show .btns B I.on:hover {background: #3cd2f1;cursor: default}
		#runners-kv-show .btns S {position: absolute;WIDTH: 60px;display: block;height: 80px;overflow: hidden;top: 155px;cursor: pointer}
		#runners-kv-show .btns S I {position: absolute;width: 60px;background: url(/Public/Core/images/btn_show.png);height: 160px;_filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=scale, src="../images/btn_show.png");_background: none;}
		#runners-kv-show .btns S.prev {left: 0px}
		#runners-kv-show .btns S.prev i {top: -80px; left:0}
		#runners-kv-show .btns S.next {right: 0px}
		#runners-kv-show .btns S.next i { left:0}
		.show-hover#runners-kv-show .btns S {display: block}
		.runners-kv-masks {opacity: 0.5;filter: alpha(opacity=50);-moz-opacity: 0.5;-khtml-opacity: 0.5;height: 400px;position: absolute;background: #000;overflow: hidden}	
        </style>
           <div class="runners-kv">
            <div id="runners-kv-show" rel="autoPlay">
              <div class="img">
                  <span>
                  	<volist name="list.res" id="images">
                      <a href="{$images['link']}" target="_blank"><img src="{$images.advspic|get_cover='path'}" _src="" /></a>
                    </volist>
                  </span>
                <div class="runners-kv-masks mk1"></div>
                <div class="runners-kv-masks mk2"></div>
              </div>
            </div>
          </div>


<script>
  /* 焦点图 */
$(function(){
	var $root = $('#runners-kv-show'),
		root_w = $root.width();
	var p = $root.find('> div.img > span'),
		n = p.children().length;
	  p.children().eq(0).clone().appendTo(p);
	function onoff(on, off) {
		(on !== -1) && btns.eq(on).addClass('on');
		(off !== -1) && btns.eq(off).removeClass('on');
	}
	function dgo(n, comp) {
		var idx = n > max ? 0 : n;
		onoff(idx, cur);
		cur = idx;
		p.stop().animate({left: -1 * root_w * n}, {duration: dur, complete: comp});
		if(idx == 0 ){p.children().eq(n-1).clone().appendTo('.mk1');}else{$('.mk1').empty()};
	}
	// slast -> 如果播放完最后1张，要如何处理
	//    true 平滑切换到第1张
	var cur = 0,
		max = n - 1,
		pt = 0,
		stay = 5 * 1000, /* ms */
		dur = .6 * 1000, /* ms */
		btns;
	function go(dir, slast) {
		pt = +new Date();
		if (dir === 0) {
			onoff(cur, -1);
			p.css({left: -1 * root_w * cur});
			return;
		}
		var t;
		if (dir > 0) {
			t = cur + 1;
			if (t > max && !slast) {
				t = 0;
			}
			if (t <= max) {
				return dgo(t);
			}
			return dgo(t, function(){
				p.css({left: 0});
			});
		} else {
			t = cur - 1;
			if (t < 0) {
				t = max;
				p.css({left: -1 * root_w * (max + 1)});
				return dgo(t);
			} else {
				return dgo(t);
			}
		}
	}
	btns = $((new Array(n + 1)).join('<i></i>'))
		.each(function(idx, el) {
			$(el).data({idx: idx});
		});
	var pn_btn = $('<s class="prev"><i></i></s><s class="next"><i></i></s>');
	$('<div class="btns"/ >')
		.append(
			$('<b/>')
				.append(btns)
				.delegate('i', 'click', function(ev) {
					dgo($(this).data('idx'));
				})
				.css({width: n * 20, marginLeft: -10 * n})
		)
		.delegate('s', 'click', function(ev) {
			go($(this).is('.prev') ? -1 : 1, true);
		})
		.append(pn_btn)
		.appendTo($root);
	if ($root.attr('rel') == 'autoPlay') {
	   var si = setInterval(function(){
			var now = +new Date();
			if (now - pt < stay) {
				return;
			}
			go(1, true);
		}, 5000);
	   p.mouseover(function(){ clearInterval(si);})
	   p.mouseout(function(){
			si = setInterval(function(){
			var now = +new Date();
			if (now - pt < stay) {
				return;
			}
			go(1, true);
		}, 5000);})
	}
	var wid = $(document.body).width();
	var swid = (wid-1140)/2;
	var bwid = root_w * n;
	$('#runners-kv-show').css('width',wid);$('#runners-kv-show .img').css('width',wid);
	$('#runners-kv-show .btns').css('left',swid)
	$('.runners-kv-masks').css('width',swid);$('.mk2').css('right',0);
	$('#runners-kv-show .img span').css(({paddingLeft: swid }))
});
</script>

        
      </if>
</if>
